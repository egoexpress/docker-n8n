services:

  app:
    image: docker.n8n.io/n8nio/n8n:1.117.1
    restart: always
    environment:
      - N8N_PORT=5678
      - N8N_PROTOCOL=https
      - NODE_ENV=production
      - N8N_HOST=${N8N_HOST}
      - WEBHOOK_URL=${WEBHOOK_URL}
      - VIRTUAL_HOST=${VIRTUAL_HOST}
      - VIRTUAL_PORT=5678
      - LETSENCRYPT_HOST=${LETSENCRYPT_HOST}
      - LETSENCRYPT_EMAIL=${LETSENCRYPT_EMAIL}

    volumes:
      - data:/home/node/.n8n
    networks:
      frontend:

volumes:
  data:

networks:
  frontend:
    name: proxy_frontend
    external: true
